{% extends 'base.html' %}

{% load static %}

{% block title %}Blog{% endblock title %}

{% block content %}
<br>
<br>
<section class="py-10 bg-gray-100">
  <div class="text-center">
    <h1 class="text-4xl font-bold mb-3">Blog Kami</h1>
    <p class="text-lg text-gray-600 mb-5">Lorem ipsum dolor sit amet consectetur. Purus commodo pulvinar.</p>
    <input type="text" placeholder="Cari berita atau kategori" class="w-full max-w-md border rounded-full py-2 px-4 mb-10">
  </div>

  <!-- Section: Terbaru --> 
  <div class="container mx-auto mb-16">
    <div class="flex justify-between items-center mb-5">
      <h2 class="text-3xl font-semibold">Terbaru dari KangBersih</h2>
      <!-- <a href="{% url 'all_articles' %}" class="text-blue-600 font-semibold hover:underline">Lihat Selengkapnya</a> -->
      <a class="group inline-flex items-center gap-x-2 py-1 px-3 mx-4 md:mx-0 bg-custom-blue font-medium text-sm text-white rounded-full focus:outline-none"
              href="{% url 'all_articles' %}" target="_blank"> Lihat Selengkapnya
            </a>
    </div>
    <div class="flex flex-wrap -mx-4">
      {% for article in latest_articles %}
      <div class="w-full sm:w-1/2 lg:w-1/3 px-4 mb-6">
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
          <img src="{{ article.image.url }}" alt="{{ article.title }}" class="w-full h-40 object-cover">
          <div class="p-5">
            <p class="text-xs text-gray-500">{{ article.created_at }}</p>
            <h3 class="text-lg font-semibold mt-2 mb-2">
              <a href="{% url 'article_detail' pk=article.pk %}" class="hover:underline">{{ article.title }}</a>
            </h3>
            <div class="flex items-center text-gray-600 text-sm">
              <span>{{ article.likes_count|default:0 }} <i class="fas fa-thumbs-up"></i></span>
              <span class="ml-3">{{ article.comments_count|default:0 }} <i class="fas fa-comment"></i></span>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Section: Terfavorit -->
  <div class="container mx-auto mb-16 bg-custom-blue text-white py-10 px-5 rounded-lg">
    <div class="flex justify-between items-center mb-5">
      <h2 class="text-3xl font-semibold">Blog Terfavorit</h2>
    </div>
    <div class="flex flex-wrap -mx-4">
      {% for article in favorite_articles %}
      <div class="w-full sm:w-1/2 lg:w-1/3 px-4 mb-6">
        <div class="bg-white rounded-lg overflow-hidden shadow-lg text-black">
          <img src="{{ article.image.url }}" alt="{{ article.title }}" class="w-full h-40 object-cover">
          <div class="p-5">
            <p class="text-xs text-gray-500">{{ article.created_at }}</p>
            <h3 class="text-lg font-semibold mt-2 mb-2">
              <a href="{% url 'article_detail' pk=article.pk %}" class="hover:underline">{{ article.title }}</a>
            </h3>
            <div class="flex items-center text-gray-600 text-sm">
              <span>{{ article.likes_count }} <i class="fas fa-thumbs-up"></i></span>
              <span class="ml-3">{{ article.comments_count }} <i class="fas fa-comment"></i></span>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- Section: Paling Ramai -->
  <div class="container mx-auto mb-16">
    <div class="flex justify-between items-center mb-5">
      <h2 class="text-3xl font-semibold">Blog Paling Ramai</h2>
    </div>
    <div class="flex flex-wrap -mx-4">
      {% for article in popular_articles %}
      <div class="w-full sm:w-1/2 lg:w-1/3 px-4 mb-6">
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
          <img src="{{ article.image.url }}" alt="{{ article.title }}" class="w-full h-40 object-cover">
          <div class="p-5">
            <p class="text-xs text-gray-500">{{ article.created_at }}</p>
            <h3 class="text-lg font-semibold mt-2 mb-2">
              <a href="{% url 'article_detail' pk=article.pk %}" class="hover:underline">{{ article.title }}</a>
            </h3>
            <div class="flex items-center text-gray-600 text-sm">
              <span>{{ article.likes_count }} <i class="fas fa-thumbs-up"></i></span>
              <span class="ml-3">{{ article.comments_count }} <i class="fas fa-comment"></i></span>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Footer Section -->
<!-- <footer class="bg-green-900 text-white py-10">
  <div class="container mx-auto flex flex-wrap justify-between">
    <div>
      <h3 class="text-2xl font-bold">KangBersih</h3>
      <address class="mt-3">
        Jalan Pangeran Suryanata, no. 22, Kel. Air Putih, Kec. Samarinda Ulu, Kota Samarinda, Provinsi Kalimantan Timur, 75124
      </address>
      <img src="https://maps.googleapis.com/maps/api/staticmap?center=-0.499451,117.153618&zoom=15&size=200x200&key=YOUR_API_KEY" alt="Map" class="mt-3">
    </div>
    <div class="space-y-2">
      <h4 class="text-lg font-semibold">Temukan Kami</h4>
      <div class="flex gap-3">
        <a href="#" class="hover:underline">Email</a>
        <a href="#" class="hover:underline">Instagram</a>
        <a href="#" class="hover:underline">WhatsApp</a>
      </div>
    </div>
  </div>
</footer> -->
{% endblock content %}
